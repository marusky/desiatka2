(this.webpackJsonpdesiatka2=this.webpackJsonpdesiatka2||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(3),i=n.n(a),o=n(17),s=n.n(o),r=(n(28),n(29),n(8)),u=n(4),l=n(10),j=n.n(l),d=n(14),b=n(11),p=(n(31),n(18));n(36);p.a.initializeApp({apiKey:"AIzaSyAL_YFLJciBdp-3ilv8YnBK07zhD73IqdQ",authDomain:"desiatka-ecavza.firebaseapp.com",projectId:"desiatka-ecavza",storageBucket:"desiatka-ecavza.appspot.com",messagingSenderId:"459276092073",appId:"1:459276092073:web:77a7aee2f2c30c674adfb8"});var O=p.a.firestore(),h=function(){var e=Object(d.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.collection(t).add(n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(d.a)(j.a.mark((function e(t,n,c,a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.collection(t).doc(n).update(Object(b.a)({},c,a));case 2:case"end":return e.stop()}}),e)})));return function(t,n,c,a){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(j.a.mark((function e(t,n,c){var a,i=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!(i.length>3&&void 0!==i[3])||i[3],e.next=3,O.collection("questions").doc(t).update({queries:Object(u.a)(Object(u.a)({},c),{},Object(b.a)({},"option".concat(n),Object(u.a)(Object(u.a)({},c["option".concat(n)]),{},{show:a})))});case 3:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),v=function(e,t){O.collection("questions").doc(e).update(Object(b.a)({},t,!1))},f=function(e,t){if("JOIN_GAME"===t.type)return h("players",{name:t.payload.name,points:0}),Object(u.a)(Object(u.a)({},e),{},{player:Object(u.a)(Object(u.a)({},e.player),{},{name:t.payload.name,isLoggedIn:!0})});if("NO_NAME"===t.type)return Object(u.a)({},e);if("ADMIN"===t.type)return Object(u.a)(Object(u.a)({},e),{},{admin:!0});if("ADD_QUESTION"===t.type)return h("questions",t.payload),Object(u.a)({},e);if("NEXT_QUESTION"===t.type){for(var n=t.payload.questions[t.payload.questionNum].id,c=1;c<=10;c++){var a="queries.option".concat(c,".show");v(n,a)}return m("questionNum","number","number",e.questionNum+1),t.payload.questions.length===e.questionNum+2?Object(u.a)(Object(u.a)({},e),{},{questionLast:!0}):Object(u.a)(Object(u.a)({},e),{},{questionNum:e.questionNum+1})}if("SHOW_ANSWER"===t.type)return x(t.payload.questionID,t.payload.answerID,t.payload.questions[e.questionNum].queries),Object(u.a)({},e);if("UPDATE_QUESTION"===t.type){if(t.payload.questionNum+1===t.payload.questions.length)var i=!0;return Object(u.a)(Object(u.a)({},e),{},{questionNum:t.payload.questionNum,questionLast:i})}if("CHANGE_SCORE"===t.type){var o=t.payload,s=o.players,r=o.name,l=o.amount,j=s.find((function(e){return e.name===r}));return m("players",j.id,"points",j.points+l),Object(u.a)({},e)}throw new Error("no matching action type")},y=function(){return Object(c.jsx)("main",{className:"center",children:Object(c.jsxs)("div",{className:"lds-roller",children:[Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{})]})})},N=n(16),g=i.a.createContext(),q={admin:!1,player:{name:"",isLoggedIn:!1,points:0},players:[],questions:[],questionNum:0,questionLast:!1},w=function(e){var t=e.children,n=Object(a.useReducer)(f,q),i=Object(r.a)(n,2),o=i[0],s=i[1],l=O.collection("players").orderBy("name"),b=Object(N.a)(l,{idField:"id"}),p=Object(r.a)(b,3),h=p[0],m=p[1],x=p[2],v=O.collection("questions"),w=Object(N.a)(v,{idField:"id"}),k=Object(r.a)(w,3),I=k[0],S=k[1],E=k[2],C=O.doc("questionNum/number"),A=Object(N.b)(C),D=Object(r.a)(A,3),M=D[0],T=D[1],P=D[2],Q=function(){var e=Object(d.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),console.log("submit name:",n),console.log("admin"===n),s("admin"===n?{type:"ADMIN"}:n?{type:"JOIN_GAME",payload:{name:n}}:{type:"NO_NAME"});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();if(m||S||T)return Object(c.jsx)(g.Provider,{value:{},children:Object(c.jsx)(y,{})});var _=M.number;return _!==o.questionNum&&s({type:"UPDATE_QUESTION",payload:{questionNum:_,questions:I}}),Object(c.jsx)(g.Provider,{value:Object(u.a)(Object(u.a)({},o),{},{players:h,errorP:x,errorQ:E,errorN:P,loadingP:m,loadingQ:S,loadingN:T,questions:I,questionNum:_,showAnswer:function(e,t){s({type:"SHOW_ANSWER",payload:{questionID:e,answerID:t,questions:I}})},handleSubmit:Q,addQuestion:function(e,t){e.preventDefault(),console.log("add question:",t),console.log(e),s({type:"ADD_QUESTION",payload:t})},nextQuestion:function(){s({type:"NEXT_QUESTION",payload:{questions:I,questionNum:o.questionNum}})},changeScore:function(e,t){s({type:"CHANGE_SCORE",payload:{players:h,amount:e,name:t}})}}),children:t})},k=function(){return Object(a.useContext)(g)},I=function(){var e=k().handleSubmit,t=Object(a.useState)(""),n=Object(r.a)(t,2),i=n[0],o=n[1];return Object(c.jsx)("section",{className:"center",children:Object(c.jsxs)("form",{onSubmit:function(t){return e(t,i)},className:"neomorph",children:[Object(c.jsx)("div",{className:"segment",children:Object(c.jsx)("h1",{children:"Desiatka"})}),Object(c.jsx)("label",{children:Object(c.jsx)("input",{type:"text",placeholder:"username",value:i,onChange:function(e){o(e.target.value)}})}),Object(c.jsx)("button",{type:"submit",children:"join"})]})})},S=n(19),E=n(22),C={biela:["white","black"],"\u017elt\xe1":["yellow","black"],"oran\u017eov\xe1":["orange","black"],"\u010derven\xe1":["red","black"],"modr\xe1":["blue","white"],"zelen\xe1":["green","white"],"ru\u017eov\xe1":["pink","black"],"fialov\xe1":["purple","white"],"hned\xe1":["brown","white"],"siv\xe1":["gray","white"],"\u010dierna":["black","white"]},A=function(){var e=k(),t=e.questions,n=e.questionNum,a=e.questionLast,i=e.nextQuestion,o=e.showAnswer,s=t[n],r=s.text,u=s.type,l=s.queries,j=t[n].id;return Object(c.jsxs)("div",{className:"flexbox",children:[Object(c.jsxs)("article",{className:"box",children:[Object(c.jsx)("section",{className:"oval",children:Object(c.jsx)("section",{className:"question",children:r})}),Object.values(l).map((function(e,t){var n=e.id,a=e.given,i=e.correct,s=e.show;return Object(c.jsxs)("div",{children:[Object(c.jsx)("section",{className:"option",style:{transform:"translateX(".concat(170*Math.sin(2*Math.PI/10*t),"px) translateY(").concat(170*Math.cos(2*Math.PI/10*t),"px)")},children:a}),Object(c.jsxs)("section",{className:"answer-circle ".concat(s&&"show"),style:{transform:"translateX(".concat(290*Math.sin(2*Math.PI/10*t),"px) translateY(").concat(290*Math.cos(2*Math.PI/10*t),"px)")},onClick:function(){return o(j,n)},children:["spravne"===u&&Object(c.jsx)("p",{className:"answer-text ".concat(s&&"show"),children:i?Object(c.jsx)(S.a,{className:"icon icon-correct"}):Object(c.jsx)(S.b,{className:"icon icon-incorrect"})}),"farba"===u&&Object(c.jsx)("p",{className:"answer-text color ".concat(s&&"show"),style:{backgroundColor:C[i][0],color:C[i][1]},children:i}),"poradie"===u&&Object(c.jsx)("p",{className:"answer-text ".concat(s&&"show"),children:i}),"odpoved"===u&&Object(c.jsx)("p",{className:"answer-text  ".concat(s&&"show"),children:i})]}),Object(c.jsx)("section",{className:"line line-".concat(n)})]},n)}))]}),!a&&Object(c.jsx)("button",{onClick:i,className:"next-question",children:Object(c.jsx)(E.a,{})})]})},D=n(23),M=function(){var e=k(),t=e.players,n=e.changeScore,i=Object(a.useState)(!1),o=Object(r.a)(i,2),s=o[0],u=o[1];return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"openPoints",onClick:function(){return u(!s)},children:Object(c.jsx)(D.a,{})}),Object(c.jsx)("div",{className:s?"players show":"players",children:t&&t.map((function(e){return Object(c.jsxs)("section",{className:"player",children:[Object(c.jsx)("h3",{children:e.name}),Object(c.jsxs)("div",{className:"player-score",children:[Object(c.jsx)("button",{className:"unit minus",onClick:function(){return n(-1,e.name)},children:"-"}),e.points,Object(c.jsx)("button",{className:"unit plus",onClick:function(){return n(1,e.name)},children:"+"})]})]},e.id)}))})]})},T=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(A,{}),Object(c.jsx)(M,{})]})},P=function(e){var t=e.closeModal,n=e.modalType,i=k().addQuestion,o={text:"",type:n,queries:{option1:{id:1,given:"",correct:"",show:!1},option2:{id:2,given:"",correct:"",show:!1},option3:{id:3,given:"",correct:"",show:!1},option4:{id:4,given:"",correct:"",show:!1},option5:{id:5,given:"",correct:"",show:!1},option6:{id:6,given:"",correct:"",show:!1},option7:{id:7,given:"",correct:"",show:!1},option8:{id:8,given:"",correct:"",show:!1},option9:{id:9,given:"",correct:"",show:!1},option10:{id:10,given:"",correct:"",show:!1}}},s=Object(a.useState)(o),l=Object(r.a)(s,2),j=l[0],d=l[1],p=function(e){"questionText"===e.target.name?d((function(t){return Object(u.a)(Object(u.a)({},t),{},{text:e.target.value})})):d((function(t){var n=e.target.name.split(" "),c=Object(r.a)(n,2),a=c[0],i=c[1];return Object(u.a)(Object(u.a)({},t),{},{queries:Object(u.a)(Object(u.a)({},t.queries),{},Object(b.a)({},a,Object(u.a)(Object(u.a)({},t.queries[a]),{},Object(b.a)({},i,e.target.value))))})}))};return Object(c.jsxs)("section",{children:[n,Object(c.jsxs)("form",{onSubmit:function(e){return i(e,j)},children:[Object(c.jsx)("label",{children:Object(c.jsx)("input",{type:"text",name:"questionText",placeholder:"question text",value:j.text,onChange:p})}),Object.keys(j.queries).map((function(e){return Object(c.jsxs)("div",{className:"given-answer",children:[Object(c.jsx)("label",{children:Object(c.jsx)("input",{type:"text",placeholder:"given ".concat(j.queries[e].id),name:"".concat(e," given"),value:j.queries[e].given,onChange:p})}),Object(c.jsx)("label",{children:Object(c.jsx)("input",{type:"text",placeholder:"answer ".concat(j.queries[e].id),name:"".concat(e," correct"),value:j.queries[e].correct,onChange:p})})]},j.queries[e].id)})),Object(c.jsx)("button",{type:"submit",children:"Submit"})]}),Object(c.jsx)("button",{type:"button",onClick:t,children:"close"})]})},Q=[{id:1,text:"spravne"},{id:2,text:"poradie"},{id:3,text:"farba"},{id:4,text:"odpoved"}],_=function(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)(""),s=Object(r.a)(o,2),u=s[0],l=s[1];return Object(c.jsxs)("main",{children:[Object(c.jsx)("section",{className:"buttons",children:Q.map((function(e){var t=e.id,n=e.text;return Object(c.jsx)("button",{onClick:function(){return function(e){i(!0),l(e)}(n)},children:n},t)}))}),n&&Object(c.jsx)(P,{closeModal:function(){i(!1)},modalType:u})]})};var L=function(){var e=k(),t=e.admin,n=e.player.isLoggedIn,a=e.errorP,i=e.errorQ,o=e.errorN,s=e.loadingP,r=e.loadingQ,u=e.loadingN;return s||r||u?Object(c.jsx)(y,{}):a||i||o?Object(c.jsx)("div",{children:a||i||o}):t?Object(c.jsx)(_,{}):n?Object(c.jsx)(T,{}):Object(c.jsx)(I,{})},U=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),i(e),o(e)}))};s.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(w,{children:Object(c.jsx)(L,{})})}),document.getElementById("root")),U()}},[[35,1,2]]]);
//# sourceMappingURL=main.71e3c0f8.chunk.js.map