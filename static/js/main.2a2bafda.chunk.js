(this.webpackJsonpdesiatka2=this.webpackJsonpdesiatka2||[]).push([[0],{29:function(e,t,n){},30:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(3),i=n.n(c),o=n(17),r=n.n(o),s=(n(29),n(30),n(8)),u=n(4),l=n(10),j=n.n(l),d=n(14),b=n(11),p=(n(32),n(18));n(37);p.a.initializeApp({apiKey:"AIzaSyAL_YFLJciBdp-3ilv8YnBK07zhD73IqdQ",authDomain:"desiatka-ecavza.firebaseapp.com",projectId:"desiatka-ecavza",storageBucket:"desiatka-ecavza.appspot.com",messagingSenderId:"459276092073",appId:"1:459276092073:web:77a7aee2f2c30c674adfb8"});var O=p.a.firestore(),h=function(){var e=Object(d.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.collection(t).add(n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(d.a)(j.a.mark((function e(t,n,a,c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.collection(t).doc(n).update(Object(b.a)({},a,c));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(j.a.mark((function e(t,n,a){var c,i=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=!(i.length>3&&void 0!==i[3])||i[3],e.next=3,O.collection("questions").doc(t).update({queries:Object(u.a)(Object(u.a)({},a),{},Object(b.a)({},"option".concat(n),Object(u.a)(Object(u.a)({},a["option".concat(n)]),{},{show:c})))});case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),v=function(e,t){O.collection("questions").doc(e).update(Object(b.a)({},t,!1))},f=function(e,t){if("JOIN_GAME"===t.type){var n=t.payload.name;return localStorage.getItem("desiatka_name")||(h("players",{name:n,points:0}),localStorage.setItem("desiatka_name",JSON.stringify(n))),Object(u.a)(Object(u.a)({},e),{},{player:Object(u.a)(Object(u.a)({},e.player),{},{name:n,isLoggedIn:!0})})}if("NO_NAME"===t.type)return Object(u.a)({},e);if("ADMIN"===t.type)return Object(u.a)(Object(u.a)({},e),{},{admin:!0});if("ADD_QUESTION"===t.type)return h("questions",t.payload),Object(u.a)({},e);if("NEXT_QUESTION"===t.type){for(var a=t.payload.questions[t.payload.questionNum].id,c=1;c<=10;c++){var i="queries.option".concat(c,".show");v(a,i)}return m("questionNum","number","number",e.questionNum+1),t.payload.questions.length===e.questionNum+2?Object(u.a)(Object(u.a)({},e),{},{questionLast:!0}):Object(u.a)(Object(u.a)({},e),{},{questionNum:e.questionNum+1})}if("SHOW_ANSWER"===t.type)return x(t.payload.questionID,t.payload.answerID,t.payload.questions[e.questionNum].queries),Object(u.a)({},e);if("UPDATE_QUESTION"===t.type){if(t.payload.questionNum+1===t.payload.questions.length)var o=!0;return Object(u.a)(Object(u.a)({},e),{},{questionNum:t.payload.questionNum,questionLast:o})}if("CHANGE_SCORE"===t.type){var r=t.payload,s=r.players,l=r.name,j=r.amount,d=s.find((function(e){return e.name===l}));return m("players",d.id,"points",d.points+j),Object(u.a)({},e)}if("LOGOUT"===t.type){localStorage.removeItem("desiatka_name");var b=t.payload.find((function(t){return t.name===e.player.name}));return O.collection("players").doc(b.id).delete(),Object(u.a)(Object(u.a)({},e),{},{player:{name:"",points:0,isLoggedIn:!1}})}throw new Error("no matching action type")},y=function(){return Object(a.jsx)("main",{className:"center",children:Object(a.jsxs)("div",{className:"lds-roller",children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{})]})})},N=n(16),g=i.a.createContext(),q={admin:!1,player:{name:"",isLoggedIn:!1,points:0},players:[],questions:[],questionNum:0,questionLast:!1},w=function(e){var t=e.children,n=Object(c.useReducer)(f,q),i=Object(s.a)(n,2),o=i[0],r=i[1],l=O.collection("players").orderBy("name"),b=Object(N.a)(l,{idField:"id"}),p=Object(s.a)(b,3),h=p[0],m=p[1],x=p[2],v=O.collection("questions"),w=Object(N.a)(v,{idField:"id"}),k=Object(s.a)(w,3),I=k[0],S=k[1],C=k[2],E=O.doc("questionNum/number"),A=Object(N.b)(E),D=Object(s.a)(A,3),T=D[0],_=D[1],M=D[2],P=function(){var e=Object(d.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),r("admin"===n?{type:"ADMIN"}:n?{type:"JOIN_GAME",payload:{name:n}}:{type:"NO_NAME"});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();if(m||S||_)return Object(a.jsx)(g.Provider,{value:{},children:Object(a.jsx)(y,{})});var Q=T.number;return Q!==o.questionNum&&r({type:"UPDATE_QUESTION",payload:{questionNum:Q,questions:I}}),Object(a.jsx)(g.Provider,{value:Object(u.a)(Object(u.a)({},o),{},{players:h,errorP:x,errorQ:C,errorN:M,loadingP:m,loadingQ:S,loadingN:_,questions:I,questionNum:Q,showAnswer:function(e,t){r({type:"SHOW_ANSWER",payload:{questionID:e,answerID:t,questions:I}})},handleSubmit:P,addQuestion:function(e,t){e.preventDefault(),console.log("add question:",t),console.log(e),r({type:"ADD_QUESTION",payload:t})},nextQuestion:function(){r({type:"NEXT_QUESTION",payload:{questions:I,questionNum:o.questionNum}})},changeScore:function(e,t){r({type:"CHANGE_SCORE",payload:{players:h,amount:e,name:t}})},logout:function(){r({type:"LOGOUT",payload:h})}}),children:t})},k=function(){return Object(c.useContext)(g)},I=function(){var e=k().handleSubmit,t=Object(c.useState)(""),n=Object(s.a)(t,2),i=n[0],o=n[1];return Object(a.jsx)("section",{className:"center",children:Object(a.jsxs)("form",{onSubmit:function(t){return e(t,i)},className:"neomorph",children:[Object(a.jsx)("div",{className:"segment",children:Object(a.jsx)("h1",{children:"Dvadsiatka"})}),Object(a.jsx)("label",{children:Object(a.jsx)("input",{type:"text",placeholder:"username",value:i,onChange:function(e){o(e.target.value)}})}),Object(a.jsx)("button",{type:"submit",children:"join"})]})})},S=n(19),C=n(22),E={biela:["white","black"],"\u017elt\xe1":["yellow","black"],"oran\u017eov\xe1":["orange","black"],"\u010derven\xe1":["red","black"],"modr\xe1":["blue","white"],"zelen\xe1":["green","white"],"ru\u017eov\xe1":["pink","black"],"purpurov\xe1":["purple","white"],"fialov\xe1":["purple","white"],"hned\xe1":["brown","white"],"siv\xe1":["gray","white"],"\u010dierna":["black","white"],magenta:["magenta","white"]},A=function(){var e=k(),t=e.questions,n=e.questionNum,c=e.questionLast,i=e.nextQuestion,o=e.showAnswer,r=t[n],s=r.text,u=r.type,l=r.queries,j=t[n].id;return Object(a.jsxs)("div",{className:"flexbox",children:[Object(a.jsxs)("article",{className:"box",children:[Object(a.jsx)("section",{className:"oval",children:Object(a.jsx)("section",{className:"question",children:s})}),Object.values(l).sort((function(e,t){return e.id>t.id?1:t.id>e.id?-1:0})).map((function(e,t){var n=e.id,c=e.given,i=e.correct,r=e.show;return Object(a.jsxs)("div",{children:[Object(a.jsx)("section",{className:"option",style:{transform:"translateX(".concat(170*Math.sin(2*Math.PI/10*t),"px) translateY(").concat(170*Math.cos(2*Math.PI/10*t),"px)")},children:c}),Object(a.jsxs)("section",{className:"answer-circle ".concat(r&&"show"),style:{transform:"translateX(".concat(290*Math.sin(2*Math.PI/10*t),"px) translateY(").concat(290*Math.cos(2*Math.PI/10*t),"px)")},onClick:function(){return o(j,n)},children:["spravne"===u&&Object(a.jsx)("p",{className:"answer-text ".concat(r&&"show"),children:i?Object(a.jsx)(S.a,{className:"icon icon-correct"}):Object(a.jsx)(S.b,{className:"icon icon-incorrect"})}),"farba"===u&&Object(a.jsx)("p",{className:"answer-text color ".concat(r&&"show"),style:{backgroundColor:E[i][0],color:E[i][1]},children:i}),"poradie"===u&&Object(a.jsx)("p",{className:"answer-text ".concat(r&&"show"),children:i}),"odpoved"===u&&Object(a.jsx)("p",{className:"answer-text  ".concat(r&&"show"),children:i})]}),Object(a.jsx)("section",{className:"line line-".concat(n)})]},n)}))]}),!c&&Object(a.jsx)("button",{onClick:i,className:"next-question",children:Object(a.jsx)(C.a,{})})]})},D=n(23),T=function(){var e=k(),t=e.players,n=e.changeScore,i=Object(c.useState)(!1),o=Object(s.a)(i,2),r=o[0],u=o[1];return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"openPoints",onClick:function(){return u(!r)},children:Object(a.jsx)(D.a,{})}),Object(a.jsx)("div",{className:r?"players show":"players",children:t&&t.map((function(e){return Object(a.jsxs)("section",{className:"player",children:[Object(a.jsx)("h3",{children:e.name}),Object(a.jsxs)("div",{className:"player-score",children:[Object(a.jsx)("button",{className:"unit minus",onClick:function(){return n(-1,e.name)},children:"-"}),e.points,Object(a.jsx)("button",{className:"unit plus",onClick:function(){return n(1,e.name)},children:"+"})]})]},e.id)}))})]})},_=n(24),M=function(){var e=k().logout;return Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{onClick:e,className:"logout-btn",children:Object(a.jsx)(_.a,{})}),Object(a.jsx)(A,{}),Object(a.jsx)(T,{})]})},P=function(e){var t=e.closeModal,n=e.modalType,i=k().addQuestion,o={text:"",type:n,queries:{option1:{id:1,given:"",correct:"",show:!1},option2:{id:2,given:"",correct:"",show:!1},option3:{id:3,given:"",correct:"",show:!1},option4:{id:4,given:"",correct:"",show:!1},option5:{id:5,given:"",correct:"",show:!1},option6:{id:6,given:"",correct:"",show:!1},option7:{id:7,given:"",correct:"",show:!1},option8:{id:8,given:"",correct:"",show:!1},option9:{id:9,given:"",correct:"",show:!1},option10:{id:10,given:"",correct:"",show:!1}}},r=Object(c.useState)(o),l=Object(s.a)(r,2),j=l[0],d=l[1],p=function(e){"questionText"===e.target.name?d((function(t){return Object(u.a)(Object(u.a)({},t),{},{text:e.target.value})})):d((function(t){var n=e.target.name.split(" "),a=Object(s.a)(n,2),c=a[0],i=a[1];return Object(u.a)(Object(u.a)({},t),{},{queries:Object(u.a)(Object(u.a)({},t.queries),{},Object(b.a)({},c,Object(u.a)(Object(u.a)({},t.queries[c]),{},Object(b.a)({},i,e.target.value))))})}))};return Object(a.jsxs)("section",{children:[n,Object(a.jsxs)("form",{onSubmit:function(e){return i(e,j)},children:[Object(a.jsx)("label",{children:Object(a.jsx)("input",{type:"text",name:"questionText",placeholder:"question text",value:j.text,onChange:p})}),Object.keys(j.queries).map((function(e){return Object(a.jsxs)("div",{className:"given-answer",children:[Object(a.jsx)("label",{children:Object(a.jsx)("input",{type:"text",placeholder:"given ".concat(j.queries[e].id),name:"".concat(e," given"),value:j.queries[e].given,onChange:p})}),Object(a.jsx)("label",{children:Object(a.jsx)("input",{type:"text",placeholder:"answer ".concat(j.queries[e].id),name:"".concat(e," correct"),value:j.queries[e].correct,onChange:p})})]},j.queries[e].id)})),Object(a.jsx)("button",{type:"submit",children:"Submit"})]}),Object(a.jsx)("button",{type:"button",onClick:t,children:"close"})]})},Q=[{id:1,text:"spravne"},{id:2,text:"poradie"},{id:3,text:"farba"},{id:4,text:"odpoved"}],L=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],i=t[1],o=Object(c.useState)(""),r=Object(s.a)(o,2),u=r[0],l=r[1];return Object(a.jsxs)("main",{children:[Object(a.jsx)("section",{className:"buttons",children:Q.map((function(e){var t=e.id,n=e.text;return Object(a.jsx)("button",{onClick:function(){return function(e){i(!0),l(e)}(n)},children:n},t)}))}),n&&Object(a.jsx)(P,{closeModal:function(){i(!1)},modalType:u})]})};var U=function(){var e=k(),t=e.admin,n=e.player.isLoggedIn,c=e.errorP,i=e.errorQ,o=e.errorN,r=e.loadingP,s=e.loadingQ,u=e.loadingN;return r||s||u?Object(a.jsx)(y,{}):c||i||o?Object(a.jsx)("div",{children:c||i||o}):t?Object(a.jsx)(L,{}):n?Object(a.jsx)(M,{}):Object(a.jsx)(I,{})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),i(e),o(e)}))};r.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(w,{children:Object(a.jsx)(U,{})})}),document.getElementById("root")),z()}},[[36,1,2]]]);
//# sourceMappingURL=main.2a2bafda.chunk.js.map