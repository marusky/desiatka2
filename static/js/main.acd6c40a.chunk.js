(this.webpackJsonpdesiatka2=this.webpackJsonpdesiatka2||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(2),o=n.n(a),i=n(16),r=n.n(i),s=(n(25),n(26),n(7)),u=n(3),l=n(9),j=n.n(l),d=n(13),b=n(10),p=(n(28),n(17));n(33);p.a.initializeApp({apiKey:"AIzaSyAL_YFLJciBdp-3ilv8YnBK07zhD73IqdQ",authDomain:"desiatka-ecavza.firebaseapp.com",projectId:"desiatka-ecavza",storageBucket:"desiatka-ecavza.appspot.com",messagingSenderId:"459276092073",appId:"1:459276092073:web:77a7aee2f2c30c674adfb8"});var O=p.a.firestore(),h=function(){var e=Object(d.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.collection(t).add(n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(d.a)(j.a.mark((function e(t,n,c,a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.collection(t).doc(n).update(Object(b.a)({},c,a));case 2:case"end":return e.stop()}}),e)})));return function(t,n,c,a){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(j.a.mark((function e(t,n,c){var a,o=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!(o.length>3&&void 0!==o[3])||o[3],e.next=3,O.collection("questions").doc(t).update({queries:Object(u.a)(Object(u.a)({},c),{},Object(b.a)({},"option".concat(n),Object(u.a)(Object(u.a)({},c["option".concat(n)]),{},{show:a})))});case 3:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),v=function(e,t){O.collection("questions").doc(e).update(Object(b.a)({},t,!1))},f=function(e,t){if("JOIN_GAME"===t.type)return h("players",{name:t.payload.name,points:0}),Object(u.a)(Object(u.a)({},e),{},{player:Object(u.a)(Object(u.a)({},e.player),{},{name:t.payload.name,isLoggedIn:!0})});if("NO_NAME"===t.type)return Object(u.a)({},e);if("ADMIN"===t.type)return Object(u.a)(Object(u.a)({},e),{},{admin:!0});if("ADD_QUESTION"===t.type)return h("questions",t.payload),Object(u.a)({},e);if("NEXT_QUESTION"===t.type){for(var n=t.payload.questions[t.payload.questionNum].id,c=1;c<=10;c++){var a="queries.option".concat(c,".show");v(n,a)}return m("questionNum","number","number",e.questionNum+1),t.payload.questions.length===e.questionNum+2?Object(u.a)(Object(u.a)({},e),{},{questionLast:!0}):Object(u.a)(Object(u.a)({},e),{},{questionNum:e.questionNum+1})}if("SHOW_ANSWER"===t.type)return x(t.payload.questionID,t.payload.answerID,t.payload.questions[e.questionNum].queries),Object(u.a)({},e);if("UPDATE_QUESTION"===t.type){if(t.payload.questionNum+1===t.payload.questions.length)var o=!0;return Object(u.a)(Object(u.a)({},e),{},{questionNum:t.payload.questionNum,questionLast:o})}if("CHANGE_SCORE"===t.type){var i=t.payload,r=i.players,s=i.name,l=i.amount,j=r.find((function(e){return e.name===s}));return m("players",j.id,"points",j.points+l),Object(u.a)({},e)}throw new Error("no matching action type")},y=function(){return Object(c.jsx)("main",{className:"center",children:Object(c.jsxs)("div",{className:"lds-roller",children:[Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{})]})})},N=n(15),g=o.a.createContext(),q={admin:!1,player:{name:"",isLoggedIn:!1,points:0},players:[],questions:[],questionNum:0,questionLast:!1},w=function(e){var t=e.children,n=Object(a.useReducer)(f,q),o=Object(s.a)(n,2),i=o[0],r=o[1],l=O.collection("players").orderBy("name"),b=Object(N.a)(l,{idField:"id"}),p=Object(s.a)(b,3),h=p[0],m=p[1],x=p[2],v=O.collection("questions"),w=Object(N.a)(v,{idField:"id"}),k=Object(s.a)(w,3),I=k[0],S=k[1],E=k[2],C=O.doc("questionNum/number"),A=Object(N.b)(C),D=Object(s.a)(A,3),M=D[0],Q=D[1],T=D[2],_=function(){var e=Object(d.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),console.log("submit name:",n),console.log("admin"===n),r("admin"===n?{type:"ADMIN"}:n?{type:"JOIN_GAME",payload:{name:n}}:{type:"NO_NAME"});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();if(m||S||Q)return Object(c.jsx)(g.Provider,{value:{},children:Object(c.jsx)(y,{})});var P=M.number;return P!==i.questionNum&&r({type:"UPDATE_QUESTION",payload:{questionNum:P,questions:I}}),Object(c.jsx)(g.Provider,{value:Object(u.a)(Object(u.a)({},i),{},{players:h,errorP:x,errorQ:E,errorN:T,loadingP:m,loadingQ:S,loadingN:Q,questions:I,questionNum:P,showAnswer:function(e,t){r({type:"SHOW_ANSWER",payload:{questionID:e,answerID:t,questions:I}})},handleSubmit:_,addQuestion:function(e,t){e.preventDefault(),console.log("add question:",t),console.log(e),r({type:"ADD_QUESTION",payload:t})},nextQuestion:function(){r({type:"NEXT_QUESTION",payload:{questions:I,questionNum:i.questionNum}})},changeScore:function(e,t){r({type:"CHANGE_SCORE",payload:{players:h,amount:e,name:t}})}}),children:t})},k=function(){return Object(a.useContext)(g)},I=function(){var e=k().handleSubmit,t=Object(a.useState)(""),n=Object(s.a)(t,2),o=n[0],i=n[1];return Object(c.jsx)("section",{className:"center",children:Object(c.jsxs)("form",{onSubmit:function(t){return e(t,o)},className:"neomorph",children:[Object(c.jsx)("div",{className:"segment",children:Object(c.jsx)("h1",{children:"Desiatka"})}),Object(c.jsx)("label",{children:Object(c.jsx)("input",{type:"text",placeholder:"username",value:o,onChange:function(e){i(e.target.value)}})}),Object(c.jsx)("button",{type:"submit",children:"join"})]})})},S=n(18),E={biela:["white","black"],"\u017elt\xe1":["yellow","black"],"oran\u017eov\xe1":["orange","black"],"\u010derven\xe1":["red","black"],"modr\xe1":["blue","white"],"zelen\xe1":["green","white"],"ru\u017eov\xe1":["pink","black"],"fialov\xe1":["purple","white"],"hned\xe1":["brown","white"],"siv\xe1":["gray","white"],"\u010dierna":["black","white"]},C=function(){var e=k(),t=e.questions,n=e.questionNum,a=e.questionLast,o=e.nextQuestion,i=e.showAnswer,r=t[n],s=r.text,u=r.type,l=r.queries,j=t[n].id;return console.log(n),Object(c.jsxs)("div",{className:"flexbox",children:[Object(c.jsxs)("article",{className:"box",children:[Object(c.jsx)("section",{className:"oval",children:Object(c.jsx)("section",{className:"question",children:s})}),Object.values(l).map((function(e,t){var n=e.id,a=e.given,o=e.correct,r=e.show;return Object(c.jsxs)("div",{children:[Object(c.jsx)("section",{className:"option",style:{transform:"translateX(".concat(170*Math.sin(2*Math.PI/10*t),"px) translateY(").concat(170*Math.cos(2*Math.PI/10*t),"px)")},children:a}),Object(c.jsxs)("section",{className:"answer-circle ".concat(r&&"show"),style:{transform:"translateX(".concat(290*Math.sin(2*Math.PI/10*t),"px) translateY(").concat(290*Math.cos(2*Math.PI/10*t),"px)")},onClick:function(){return i(j,n)},children:["spravne"===u&&Object(c.jsx)("p",{className:"answer-text ".concat(r&&"show"),children:o?Object(c.jsx)(S.a,{className:"icon icon-correct"}):Object(c.jsx)(S.b,{className:"icon icon-incorrect"})}),"farba"===u&&Object(c.jsx)("p",{className:"answer-text color ".concat(r&&"show"),style:{backgroundColor:E[o][0],color:E[o][1]},children:o}),"poradie"===u&&Object(c.jsx)("p",{className:"answer-text ".concat(r&&"show"),children:o}),"odpoved"===u&&Object(c.jsx)("p",{className:"answer-text  ".concat(r&&"show"),children:o})]})]},n)}))]}),!a&&Object(c.jsxs)("button",{onClick:o,className:"next-question",children:["Next Question (",n+2,".) ",a]})]})},A=function(){var e=k(),t=e.players,n=e.changeScore;return Object(c.jsx)("div",{className:"players",children:t&&t.map((function(e){return Object(c.jsxs)("section",{className:"player",children:[Object(c.jsx)("h3",{children:e.name}),Object(c.jsxs)("div",{className:"player-score",children:[Object(c.jsx)("button",{className:"unit minus",onClick:function(){return n(-1,e.name)},children:"-"}),e.points,Object(c.jsx)("button",{className:"unit plus",onClick:function(){return n(1,e.name)},children:"+"})]})]},e.id)}))})},D=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(A,{}),Object(c.jsx)(C,{})]})},M=function(e){var t=e.closeModal,n=e.modalType,o=k().addQuestion,i={text:"",type:n,queries:{option1:{id:1,given:"",correct:"",show:!1},option2:{id:2,given:"",correct:"",show:!1},option3:{id:3,given:"",correct:"",show:!1},option4:{id:4,given:"",correct:"",show:!1},option5:{id:5,given:"",correct:"",show:!1},option6:{id:6,given:"",correct:"",show:!1},option7:{id:7,given:"",correct:"",show:!1},option8:{id:8,given:"",correct:"",show:!1},option9:{id:9,given:"",correct:"",show:!1},option10:{id:10,given:"",correct:"",show:!1}}},r=Object(a.useState)(i),l=Object(s.a)(r,2),j=l[0],d=l[1],p=function(e){"questionText"===e.target.name?d((function(t){return Object(u.a)(Object(u.a)({},t),{},{text:e.target.value})})):d((function(t){var n=e.target.name.split(" "),c=Object(s.a)(n,2),a=c[0],o=c[1];return Object(u.a)(Object(u.a)({},t),{},{queries:Object(u.a)(Object(u.a)({},t.queries),{},Object(b.a)({},a,Object(u.a)(Object(u.a)({},t.queries[a]),{},Object(b.a)({},o,e.target.value))))})}))};return Object(c.jsxs)("section",{children:[n,Object(c.jsxs)("form",{onSubmit:function(e){return o(e,j)},children:[Object(c.jsx)("label",{children:Object(c.jsx)("input",{type:"text",name:"questionText",placeholder:"question text",value:j.text,onChange:p})}),Object.keys(j.queries).map((function(e){return Object(c.jsxs)("div",{className:"given-answer",children:[Object(c.jsx)("label",{children:Object(c.jsx)("input",{type:"text",placeholder:"given ".concat(j.queries[e].id),name:"".concat(e," given"),value:j.queries[e].given,onChange:p})}),Object(c.jsx)("label",{children:Object(c.jsx)("input",{type:"text",placeholder:"answer ".concat(j.queries[e].id),name:"".concat(e," correct"),value:j.queries[e].correct,onChange:p})})]},j.queries[e].id)})),Object(c.jsx)("button",{type:"submit",children:"Submit"})]}),Object(c.jsx)("button",{type:"button",onClick:t,children:"close"})]})},Q=[{id:1,text:"spravne"},{id:2,text:"poradie"},{id:3,text:"farba"},{id:4,text:"odpoved"}],T=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)(""),r=Object(s.a)(i,2),u=r[0],l=r[1];return Object(c.jsxs)("main",{children:[Object(c.jsx)("section",{className:"buttons",children:Q.map((function(e){var t=e.id,n=e.text;return Object(c.jsx)("button",{onClick:function(){return function(e){o(!0),l(e)}(n)},children:n},t)}))}),n&&Object(c.jsx)(M,{closeModal:function(){o(!1)},modalType:u})]})};var _=function(){var e=k(),t=e.admin,n=e.player.isLoggedIn,a=e.errorP,o=e.errorQ,i=e.errorN,r=e.loadingP,s=e.loadingQ,u=e.loadingN;return r||s||u?Object(c.jsx)(y,{}):a||o||i?Object(c.jsx)("div",{children:a||o||i}):t?Object(c.jsx)(T,{}):n?Object(c.jsx)(D,{}):Object(c.jsx)(I,{})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,34)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),o(e),i(e)}))};r.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(w,{children:Object(c.jsx)(_,{})})}),document.getElementById("root")),P()}},[[32,1,2]]]);
//# sourceMappingURL=main.acd6c40a.chunk.js.map