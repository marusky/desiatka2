(this.webpackJsonpdesiatka2=this.webpackJsonpdesiatka2||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(2),o=n.n(c),i=n(16),r=n.n(i),s=(n(25),n(26),n(7)),u=n(3),l=n(9),d=n.n(l),j=n(13),b=n(10),p=(n(28),n(17));n(33);p.a.initializeApp({apiKey:"AIzaSyAL_YFLJciBdp-3ilv8YnBK07zhD73IqdQ",authDomain:"desiatka-ecavza.firebaseapp.com",projectId:"desiatka-ecavza",storageBucket:"desiatka-ecavza.appspot.com",messagingSenderId:"459276092073",appId:"1:459276092073:web:77a7aee2f2c30c674adfb8"});var O=p.a.firestore(),x=function(){var e=Object(j.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.collection(t).add(n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(j.a)(d.a.mark((function e(t,n,a,c){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.collection(t).doc(n).update(Object(b.a)({},a,c));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}(),m=function(e,t){if("JOIN_GAME"===t.type)return x("players",{name:t.payload.name,points:0}),console.log("Player joined game:",{name:t.payload.name,points:0}),Object(u.a)(Object(u.a)({},e),{},{player:Object(u.a)(Object(u.a)({},e.player),{},{name:t.payload.name,isLoggedIn:!0})});if("NO_NAME"===t.type)return console.log("no val"),Object(u.a)({},e);if("ADMIN"===t.type)return console.log("admin is here fellas"),Object(u.a)(Object(u.a)({},e),{},{admin:!0});if("ADD_QUESTION"===t.type)return console.log("question added"),x("questions",t.payload),Object(u.a)({},e);if("NEXT_QUESTION"===t.type)return console.log("next question"),h("questionNum","number","number",e.questionNum+1),t.payload.questions.length===e.questionNum+2?Object(u.a)(Object(u.a)({},e),{},{questionLast:!0}):Object(u.a)(Object(u.a)({},e),{},{questionNum:e.questionNum+1});if("SHOW_ANSWER"===t.type)return console.log("show answer, id:",t.payload.id),Object(u.a)({},e);if("UPDATE_QUESTION"===t.type){if(console.log("update question"),t.payload.questionNum+1===t.payload.questions.length)var n=!0;return Object(u.a)(Object(u.a)({},e),{},{questionNum:t.payload.questionNum,questionLast:n})}throw new Error("no matching action type")},v=function(){return Object(a.jsx)("main",{className:"center",children:Object(a.jsxs)("div",{className:"lds-roller",children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{})]})})},f=n(15),g=o.a.createContext(),y={admin:!1,player:{name:"",isLoggedIn:!1,points:0},players:[],questions:[],questionNum:0,questionLast:!1},N=function(e){var t=e.children,n=Object(c.useReducer)(m,y),o=Object(s.a)(n,2),i=o[0],r=o[1],l=O.collection("players").orderBy("name"),b=Object(f.a)(l,{idField:"id"}),p=Object(s.a)(b,3),x=p[0],h=p[1],N=p[2],q=O.collection("questions"),w=Object(f.a)(q,{idField:"id"}),I=Object(s.a)(w,3),k=I[0],S=I[1],E=I[2],M=O.doc("questionNum/number"),Q=Object(f.b)(M),T=Object(s.a)(Q,3),A=T[0],P=T[1],D=T[2],C=function(){var e=Object(j.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),console.log("submit name:",n),console.log("admin"===n),r("admin"===n?{type:"ADMIN"}:n?{type:"JOIN_GAME",payload:{name:n}}:{type:"NO_NAME"});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();if(h||S||P)return Object(a.jsx)(g.Provider,{value:{},children:Object(a.jsx)(v,{})});var _=A.number;return _!==i.questionNum&&r({type:"UPDATE_QUESTION",payload:{questionNum:_,questions:k}}),Object(a.jsx)(g.Provider,{value:Object(u.a)(Object(u.a)({},i),{},{players:x,errorP:N,errorQ:E,errorN:D,loadingP:h,loadingQ:S,loadingN:P,questions:k,questionNum:_,handleSubmit:C,addQuestion:function(e,t){e.preventDefault(),console.log("add question:",t),console.log(e),r({type:"ADD_QUESTION",payload:t})},nextQuestion:function(){r({type:"NEXT_QUESTION",payload:{questions:k}})}}),children:t})},q=function(){return Object(c.useContext)(g)},w=n(18),I={biela:["white","black"],"\u017elt\xe1":["yellow","black"],"oran\u017eov\xe1":["orange","black"],"\u010derven\xe1":["red","black"],"modr\xe1":["blue","white"],"zelen\xe1":["green","white"],"ru\u017eov\xe1":["pink","black"],"fialov\xe1":["purple","white"],"hned\xe1":["brown","white"],"siv\xe1":["gray","white"],"\u010dierna":["black","white"]},k=function(){var e=q(),t=e.questions,n=e.questionNum,c=e.questionLast,o=e.nextQuestion,i=(e.showAnswer,t[n]),r=i.text,s=i.type,u=i.queries;return console.log(n),Object(a.jsxs)("div",{className:"flexbox",children:[Object(a.jsxs)("article",{className:"box",children:[Object(a.jsx)("section",{className:"oval",children:Object(a.jsx)("section",{className:"question",children:r})}),Object.values(u).map((function(e,t){var n=e.id,c=e.given,o=e.correct;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("section",{className:"option",style:{transform:"translateX(".concat(170*Math.sin(2*Math.PI/10*t),"px) translateY(").concat(170*Math.cos(2*Math.PI/10*t),"px)")},children:c},n),Object(a.jsxs)("section",{className:"answer-circle",style:{transform:"translateX(".concat(290*Math.sin(2*Math.PI/10*t),"px) translateY(").concat(290*Math.cos(2*Math.PI/10*t),"px)")},children:["spravne"===s&&Object(a.jsx)("p",{className:"answer-text",children:o?Object(a.jsx)(w.a,{className:"icon icon-correct"}):Object(a.jsx)(w.b,{className:"icon icon-incorrect"})}),"farba"===s&&Object(a.jsx)("p",{className:"answer-text color",style:{backgroundColor:I[o][0],color:I[o][1]},children:o})]},100+n)]})}))]}),!c&&Object(a.jsxs)("button",{onClick:o,className:"next-question",children:["Next Question (",n+2,".) ",c]})]})},S=function(){return Object(a.jsx)("div",{children:Object(a.jsx)(k,{})})},E=function(e){var t=e.closeModal,n=e.modalType,o=q().addQuestion,i={text:"",type:n,queries:{option1:{id:1,given:"",correct:"",show:!1},option2:{id:2,given:"",correct:"",show:!1},option3:{id:3,given:"",correct:"",show:!1},option4:{id:4,given:"",correct:"",show:!1},option5:{id:5,given:"",correct:"",show:!1},option6:{id:6,given:"",correct:"",show:!1},option7:{id:7,given:"",correct:"",show:!1},option8:{id:8,given:"",correct:"",show:!1},option9:{id:9,given:"",correct:"",show:!1},option10:{id:10,given:"",correct:"",show:!1}}},r=Object(c.useState)(i),l=Object(s.a)(r,2),d=l[0],j=l[1],p=function(e){"questionText"===e.target.name?j((function(t){return Object(u.a)(Object(u.a)({},t),{},{text:e.target.value})})):j((function(t){var n=e.target.name.split(" "),a=Object(s.a)(n,2),c=a[0],o=a[1];return Object(u.a)(Object(u.a)({},t),{},{queries:Object(u.a)(Object(u.a)({},t.queries),{},Object(b.a)({},c,Object(u.a)(Object(u.a)({},t.queries[c]),{},Object(b.a)({},o,e.target.value))))})}))};return Object(a.jsxs)("section",{children:[n,Object(a.jsxs)("form",{onSubmit:function(e){return o(e,d)},children:[Object(a.jsx)("label",{children:Object(a.jsx)("input",{type:"text",name:"questionText",placeholder:"question text",value:d.text,onChange:p})}),Object.keys(d.queries).map((function(e){return Object(a.jsxs)("div",{className:"given-answer",children:[Object(a.jsx)("label",{children:Object(a.jsx)("input",{type:"text",placeholder:"given ".concat(d.queries[e].id),name:"".concat(e," given"),value:d.queries[e].given,onChange:p})}),Object(a.jsx)("label",{children:Object(a.jsx)("input",{type:"text",placeholder:"answer ".concat(d.queries[e].id),name:"".concat(e," correct"),value:d.queries[e].correct,onChange:p})})]},d.queries[e].id)})),Object(a.jsx)("button",{type:"submit",children:"Submit"})]}),Object(a.jsx)("button",{type:"button",onClick:t,children:"close"})]})},M=[{id:1,text:"spravne"},{id:2,text:"poradie"},{id:3,text:"farba"},{id:4,text:"odpoved"}],Q=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],o=t[1],i=Object(c.useState)(""),r=Object(s.a)(i,2),u=r[0],l=r[1];return Object(a.jsxs)("main",{children:[Object(a.jsx)("section",{className:"buttons",children:M.map((function(e){var t=e.id,n=e.text;return Object(a.jsx)("button",{onClick:function(){return function(e){o(!0),l(e)}(n)},children:n},t)}))}),n&&Object(a.jsx)(E,{closeModal:function(){o(!1)},modalType:u})]})};var T=function(){var e=q(),t=e.admin,n=(e.player.isLoggedIn,e.errorP),c=e.errorQ,o=e.errorN,i=e.loadingP,r=e.loadingQ,s=e.loadingN;return i||r||s?Object(a.jsx)(v,{}):n||c||o?Object(a.jsx)("div",{children:n||c||o}):t?Object(a.jsx)(Q,{}):Object(a.jsx)(S,{})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,34)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),o(e),i(e)}))};r.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(N,{children:Object(a.jsx)(T,{})})}),document.getElementById("root")),A()}},[[32,1,2]]]);
//# sourceMappingURL=main.b1bfd350.chunk.js.map